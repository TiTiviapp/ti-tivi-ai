<script>
  async function sendMessage() {
    const input = document.getElementById('input');
    const userInput = input.value.trim();
    if (!userInput) return;

    const chatBox = document.getElementById('messages');
    chatBox.innerHTML += `<div class="user-message">${userInput}</div>`;
    input.value = '';

    try {
      const response = await fetch('https://ti-tivi-ai.onrender.com/chat', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify({
          input: userInput,
          assistant_id: "asst_ugCI63m19mcgFmwnoJK56NY9" // Career Roadmap Assistant ID
        })
      });

      const data = await response.json();
      const reply = data.reply || "Sorry, no response available.";

      chatBox.innerHTML += `<div class="bot-message">${reply}</div>`;
      chatBox.scrollTop = chatBox.scrollHeight;
    } catch (error) {
      chatBox.innerHTML += `<div class="bot-message" style="color:red;">⚠️ Error: ${error.message}</div>`;
    }
  }
</script>

